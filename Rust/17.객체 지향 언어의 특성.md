# 객체 지향 언어의 특성

## 러스트가 지원하는 특성들
- 데이터와 동작을 담는 객체 (구조체/열거형 + `impl`)
- 상세 구현을 은닉하는 캡슐화 (`pub`)


## 러스트가 지원하지 않는 특성들
- 타입 시스템과 코드 공유로서의 상속
    * 상속의 단점: 필요 이상으로 많은 코드를 공유
    * 트레잇 객체 사용으로 대체
    * 다형성 역시 트레잇의 사용으로 지원함


## 다른 타입의 값을 허용하는 Trait 객체
- 트레잇 객체 : 특정 트레잇을 구현한 타입의 인스턴스
    * 트레잇 객체는 &참조나 Box<T> 스마트 포인터같은 포인터를 이용해 생성해야 하며, 그 뒤에 dyn 키워드와 함께 관련된 트레잇을 명시해야 함
- 엄밀히 말해서 구조체나 열거형이 (다른 언어에서 말하는) 객체는 아니지만, 트레잇은 객체와 유사함. 단, 데이터를 추가할 순 없음
- 트레잇의 목적? 공통된 행위에 대한 추상화를 제공
- 동적 디스패치
    * 제네릭은 단형화를 통해 컴파일 타임에 어떤 메서드를 호출하는지 알고있음
    * 트레잇은 런타임에 호출할 메서드를 찾아내기 위한 코드를 추가하는 동적 호출
    * 따라서 코드의 유연성과 런타임 비용을 등을 잘 고려해 사용해야 함
- 객체-안전 (object-safe) 한 트레잇만 트레잇 객체로 만들 수 있다.
- 객체 안정성을 확보하려면...
    * 메서드의 리턴 타입이 Self가 아니다
    * 메서드에 제네릭 타입 매개변수가 없다
- 객체 안정성을 가지지 않은 트레잇은 트레잇 객체로 사용할 수 없다.