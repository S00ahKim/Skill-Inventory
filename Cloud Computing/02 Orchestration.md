# 오케스트레이션

## 개념
- 여러 대의 **서버**(주로 컨테이너)를 편리하게 관리해줌
- 수십 수백의 작업을 한번에 **관리하는 기술**이 필요해져서 등장함
- 관리하는 데에 필요한 다양한 기능 제공


## 구현에 필요한 기술
- Logging, Monitoring
  * 여러 대의 서버를 관리하는 경우 로그 (집계, health check)와 서버 상태를 **한곳에서** 관리 
- Service Discovery
  * 서버나 컨테이너 **추가 되었을 때 자동으로 발견**하는 작업 


## 핵심 기능
> 원래 따로 전용 SW, HW가 있고, 미들웨어에서 처리하던 것들이 내장되었다
1. Scheduling(핵심기능) : 어떤 서버에 컨테이너를 `할당`할 것인가
2. Load Balancer : 여러 개의 서버/컨테이너에 작업을 고르게 `분배`
3. High Availability : 클러스터 내의 서버가 `다운`됐을 때 대응
4. Scalability : `성능`을 지속적으로 향상시키는 기능


## 오케스트레이션 아키텍처
1. 분산 코디네이터
    - 각종 정보를 저장하고 동기화, 일종의 분산DB
    - 기능
       * 클러스터에서 새로운 서버의 `발견`
       * 클러스터의 각종 `설정` 저장
       * `데이터` 저장
    - ex. `etcd`(Kubernetes), `zookeeper`(swarm), `consul` 등
2. 매니저
    - 클러스터 내의 서버를 관리하고 제어하는 매니저
    - ex. `master`(Kubernetes), `manager`(swarm)
3. 에이전트
    - 각 서버를 제어를 담당
    - ex. `kubelet`(Kubernetes), `worker`(swarm)